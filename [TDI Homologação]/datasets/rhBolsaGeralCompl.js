function createDataset(fields, constraints, sortFields) {	// Cria o dataset	var newDataset = DatasetBuilder.newDataset();	newDataset.addColumn("retorno");		var dataset = DatasetFactory.getDataset("pass_validate_rm", null, null, null);	var json = dataset.getValue(0, "USER");	var obj = JSON.parse(json);	// Invoca o servico	var codUsuario = obj.user;	var senha = obj.pass;	// Conecta o servico e busca os participantes	var periodicService = ServiceManager.getService('rhWSGeral');	var serviceHelper  	= periodicService.getBean();	var serviceLocator 	= serviceHelper.instantiate('br.com.totvs.www.br.WsRequisicaoSSLLocator');	var service         = serviceLocator.getwsRequisicaoSSLSoap();		// Invoca o servico		var justificativa = "<JUSTIFICATIVA>" + fields[2] + "</JUSTIFICATIVA> "+						"<IDREQ>" + fields[1] + "</IDREQ>"+							"<CODCOLREQUISICAO>" + fields[0] + "</CODCOLREQUISICAO>"+						"<DATAINI>" + fields[8] + "</DATAINI>"+						"<DATAFIM>" + fields[9] + "</DATAFIM>"+						"<CONDICAOCURSO>" + fields[10] + "</CONDICAOCURSO>"+						"<NOMECURSO>" + fields[11] + "</NOMECURSO>"+						"<OPCAOCURSO>" + fields[12] + "</OPCAOCURSO>"+						"<INICURSO>" + fields[13] + "</INICURSO>"+						"<FIMCURSO>" + fields[14] + "</FIMCURSO>"+						"<CURSOINSTITUICAO>" + fields[15] + "</CURSOINSTITUICAO>"+						"<CURSOPARCELAS>" + fields[16] + "</CURSOPARCELAS>"+						"<VALMENSALIDADE>" + fields[17] + "</VALMENSALIDADE>"+						"<CURSOCOMENTARIOS>" + fields[18] + "</CURSOCOMENTARIOS>";	try {		var fieldsXml = 				"<DATASET>"+					"<VREQGERAL> "+						"<CODCOLREQUISICAO>" + fields[0] + "</CODCOLREQUISICAO> "+						"<IDREQ>" + fields[1] + "</IDREQ>"+						"<JUSTIFICATIVA>" + justificativa + "</JUSTIFICATIVA> "+						"<DATAABERTURA>" + fields[3] + "</DATAABERTURA> "+						"<CODCOLREQUISITANTE>" + fields[4] + "</CODCOLREQUISITANTE> "+						"<CHAPAREQUISITANTE>" + fields[5] + "</CHAPAREQUISITANTE> "+						"<CODSTATUS>" + fields[6] + "</CODSTATUS> "+						"<FINALIDADE>" + fields[7] + "</FINALIDADE> " +					"</VREQGERAL>"+					"<VREQGERALCOMPL>"+						"<CODCOLREQUISICAO>" + fields[0] + "</CODCOLREQUISICAO>"+						"<IDREQ>" + fields[1] + "</IDREQ>"+						"<DATAINI>" + fields[8] + "</DATAINI>"+						"<DATAFIM>" + fields[9] + "</DATAFIM>"+						"<CONDICAOCURSO>" + fields[10] + "</CONDICAOCURSO>"+						"<NOMECURSO>" + fields[11] + "</NOMECURSO>"+						"<OPCAOCURSO>" + fields[12] + "</OPCAOCURSO>"+						"<INICURSO>" + fields[13] + "</INICURSO>"+						"<FIMCURSO>" + fields[14] + "</FIMCURSO>"+						"<CURSOINSTITUICAO>" + fields[15] + "</CURSOINSTITUICAO>"+						"<CURSOPARCELAS>" + fields[16] + "</CURSOPARCELAS>"+						"<VALMENSALIDADE>" + fields[17] + "</VALMENSALIDADE>"+						"<CURSOCOMENTARIOS>" + fields[18] + "</CURSOCOMENTARIOS>"+					"</VREQGERALCOMPL>"+				"</DATASET>";		var retorno = service.incluirReqGeral(fields[0], codUsuario, senha,fieldsXml);		newDataset.addRow(new Array(retorno.toString()));	} 	catch(error) { 		newDataset.addRow(new Array(error.message)); 	}	return newDataset;}