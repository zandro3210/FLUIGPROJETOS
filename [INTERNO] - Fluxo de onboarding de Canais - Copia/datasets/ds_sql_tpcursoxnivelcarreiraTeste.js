function createDataset(fields, constraints, sortFields) {var sql = 		" SELECT cdOpcaoCurso " +	" FROM  " +	" ( " +	"     SELECT  " +	"       f2.nr_ficha, " +	"       MAX(IF(COD_CAMPO LIKE 'cdOpcaoCurso%', COD_VALOR,NULL)) AS cdOpcaoCurso, " +	"       MAX(IF(COD_CAMPO LIKE 'SupCodeColigada%', COD_VALOR,NULL)) AS SupCodeColigada " +	"     FROM ficha F2 " +	"     INNER JOIN  " +	"     ( " +	"         SELECT f1.nr_ficha, f1.nr_versao  " +	"         FROM ficha F " +	"         INNER JOIN  " +	"         ( " +	"             SELECT MAX(f0.nr_versao) nr_versao,f0.nr_ficha " +	"             FROM ficha f0 " +	"             WHERE f0.cod_empresa = 10097 " +	"             AND f0.nr_fichario = 1445150 " +	"             GROUP BY f0.nr_ficha " +	"         ) F1 " +	"         ON F.nr_ficha = F1.nr_ficha AND F.nr_versao = F1.nr_versao " +	"         WHERE F.nr_fichario = 1445150 " +	"         AND (COD_CAMPO LIKE '%nmCodCargo%' " +	"         AND COD_VALOR = '" + fields[0] + "') " +	"     ) F3 " +	"     ON F2.nr_ficha = F3.nr_ficha AND F2.nr_versao = F3.nr_versao " +	"     WHERE F2.nr_fichario = 1445150 " +	"     GROUP BY nr_ficha " +	" ) F5 " +	" WHERE SupCodeColigada = '77'"; 				log.info("SQL " + sql);		var campos = new Array(sql);	var dataset = DatasetFactory.getDataset("ds_sql", campos, null, null);	return dataset;}