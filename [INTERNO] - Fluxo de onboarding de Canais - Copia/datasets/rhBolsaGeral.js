function createDataset(fields, constraints, sortFields) {	// Cria o dataset	var newDataset = DatasetBuilder.newDataset();	newDataset.addColumn("retorno");	var dataset = DatasetFactory.getDataset("pass_validate_rm", null, null, null);	var json = dataset.getValue(0, "USER");	var obj = JSON.parse(json);	// Invoca o servico	var codUsuario = obj.user;	var senha = obj.pass;		// Conecta o servico e busca os participantes	var periodicService = ServiceManager.getService('rhWSGeral');	var serviceHelper  	= periodicService.getBean();	var serviceLocator 	= serviceHelper.instantiate('br.com.totvs.www.br.WsRequisicaoSSLLocator');	var service         = serviceLocator.getwsRequisicaoSSLSoap();		// Invoca o servico	log.info("ANTES");	var justificativa = "{VREQGERALPARECER}"+						"	{CODCOLREQUISICAO}" + fields[0] + "{/CODCOLREQUISICAO}"+						"	{CODCOLSOLICITANTE}" + fields[17] + "{/CODCOLSOLICITANTE}"+						"	{CHAPASOLICITANTE}" + fields[18] + "{/CHAPASOLICITANTE}"+						"	{PARECER}" + escape(fields[1]) + "{/PARECER}"+						"	{DATAPARECER}" + fields[2] + "{/DATAPARECER}"+						"	{DATAPREVISTA}" + fields[19] + "{/DATAPREVISTA}"+						"	{CODSTATUS}" + fields[20] + "{/CODSTATUS}"+						"	{SUSPENSAO}0{/SUSPENSAO}"+						"{/VREQGERALPARECER} ";	try {		var fieldsXml = 				"<DATASET>"+					"<VREQGERAL> "+						"<CODCOLREQUISICAO>" + fields[0] + "</CODCOLREQUISICAO> "+						"<JUSTIFICATIVA>" + escape(fields[1]) + justificativa + "</JUSTIFICATIVA> "+						"<DATAABERTURA>" + fields[2] + "</DATAABERTURA> "+						"<CODCOLREQUISITANTE>" + fields[0] + "</CODCOLREQUISITANTE> "+						"<CHAPAREQUISITANTE>" + fields[3] + "</CHAPAREQUISITANTE> "+						"<CODSTATUS>" + fields[4] + "</CODSTATUS> "+						"<FINALIDADE>" + fields[5] + "</FINALIDADE> " +					"</VREQGERAL>"+					"<VREQGERALCOMPL>"+						"<CODCOLREQUISICAO>" + fields[0] + "</CODCOLREQUISICAO>"+						"<DATAINI>" + fields[6] + "</DATAINI>"+						"<DATAFIM>" + fields[7] + "</DATAFIM>"+						"<CONDICAOCURSO>" + fields[8] + "</CONDICAOCURSO>"+						"<NOMECURSO>" + fields[9] + "</NOMECURSO>"+						"<OPCAOCURSO>" + fields[10] + "</OPCAOCURSO>"+						"<INICURSO>" + fields[11] + "</INICURSO>"+						"<FIMCURSO>" + fields[12] + "</FIMCURSO>"+						"<CURSOINSTITUICAO>" + escape(fields[13]) + "</CURSOINSTITUICAO>"+						"<CURSOPARCELAS>" + fields[14] + "</CURSOPARCELAS>"+						"<VALMENSALIDADE>" + fields[15] + "</VALMENSALIDADE>"+						"<CURSOCOMENTARIOS>" + escape(fields[16]) + "</CURSOCOMENTARIOS>"+						"<APROV_ECM>" + fields[21] + "</APROV_ECM>"+						"<ID_ECM>" + fields[22] + "</ID_ECM>"+					"</VREQGERALCOMPL>"+				"</DATASET>";		log.info("fieldsXml: " + fieldsXml);		var retorno = service.incluirReqGeral(fields[0], codUsuario, senha,fieldsXml);		newDataset.addRow(new Array(retorno.toString()));	} 	catch(error) { 		newDataset.addRow(new Array("Erro:" + error.message)); 	}	return newDataset;}